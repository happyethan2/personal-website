---
import Base from "@/layouts/Base.astro";
import StatsTile from "@/components/StatsTile.astro";

const meditationHours = 312;
const avgKetone = 1.8;
const postsThisYear = 12;

if (import.meta.env.PROD) {
  throw new Response("Not Found", { status: 404 });
}
---
<Base title="Stats • Ethan Colgan" description="High-level stats with drill-down details.">
  <section class="py-6 space-y-4">
    <h1 class="text-3xl font-semibold">Stats</h1>
    <p class="text-slate-400 max-w-2xl">A living dashboard of metrics. Click tiles to open details.</p>
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
      <StatsTile title="Meditation — total hours" value={`${meditationHours} h`}>
        <p class="text-sm text-slate-400">Over time</p>
        <div class="mt-3 rounded-lg border border-slate-800 p-3">
          <svg viewBox="0 0 100 40" class="w-full h-28">
            <polyline fill="none" stroke="currentColor" stroke-width="1.5"
              points="0,35 10,33 20,30 30,28 40,26 50,24 60,20 70,18 80,15 90,12 100,10"/>
          </svg>
          <p class="text-xs text-slate-500">Placeholder chart.</p>
        </div>
      </StatsTile>

      <StatsTile title="Average ketone level" value={`${avgKetone} mmol/L`}>
        <p class="text-sm text-slate-400">Distribution by sensor</p>
        <div class="mt-3 grid grid-cols-3 gap-3">
          <div class="rounded border border-slate-800 p-3 text-center">Sensor A<br/><span class="text-lg">1.6</span></div>
          <div class="rounded border border-slate-800 p-3 text-center">Sensor B<br/><span class="text-lg">1.9</span></div>
          <div class="rounded border border-slate-800 p-3 text-center">Sensor C<br/><span class="text-lg">1.7</span></div>
        </div>
      </StatsTile>

      <StatsTile title="Posts this year" value={postsThisYear}>
        <ul class="text-sm list-disc list-inside text-slate-400">
          <li>Keto: 5</li>
          <li>Bitcoin: 4</li>
          <li>Stats/Meditation: 3</li>
        </ul>
      </StatsTile>
    </div>
  </section>
</Base>
